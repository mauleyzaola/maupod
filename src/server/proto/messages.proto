syntax = "proto3";
package pb;
option go_package = "github.com/mauleyzaola/maupod/src/server/pb";
import "google/protobuf/timestamp.proto";
import "media.proto";

enum Message {
    MESSAGE_ARTWORK_SCAN = 0;
    MESSAGE_AUDIO_SCAN = 1;
    MESSAGE_AUDIO_SHA = 4;
    MESSAGE_MEDIA_INFO = 2;
    MESSAGE_MEDIA_UPDATE_ARTWORK = 3;
    MESSAGE_MEDIA_DELETE = 5;

    MESSAGE_IPC=6;
}

enum IPCCommand {
    IPC_PLAY = 0;
    IPC_PAUSE = 1;
    IPC_LOAD = 2;
}


message ArtworkExtractInput {
    Media media = 1;
    google.protobuf.Timestamp scan_date = 2;
}

message ArtworkUpdateInput {
    Media media = 1;
}

message IPCInput {
    Media media = 1;
    string value =2;
    IPCCommand command = 3;
}

message IPCOutput {
    bool ok = 1;
    string error = 2;
}

message MediaInfoInput {
    string file_name = 1;
    Media media = 2;
}

message MediaInfoOutput {
    Media media = 1;
    Response response = 2;
    google.protobuf.Timestamp last_modified_date = 3;
}

message Response {
    bool ok = 1;
    string error = 2;
}

message ScanDirectoryAudioFilesInput {
    string root = 1;
    google.protobuf.Timestamp scan_date = 2;
}